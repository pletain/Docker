# Use root/example as user/password credentials
//세 개의 컨테이너를 띄울 것이다.

version: '3.1'

services:

  db:
    build: ./mysql //여기에 도커파일이 있다.
    restart: always
	volumes: # 뒷 부분 주소가 컨테이너의 mysql 부분의 데이터가 저장되는 위치임!
		- ./data:/var/lib/mysql

  adminer:
    image: adminer
    restart: always
    ports:
      - 8080:8080

  # node 이미지를 지정
  node:
    build: ./node
    restart: always
    links:  #링크 옵션, 세 컨테이너가 띄어졌을 때, node는 MYSQL랑 연결 해줘야한다.
        - db:db_url
    ports:
        - 3000:3000